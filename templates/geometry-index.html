{% extends 'base.html' %}
{% block body %}
<article class="container mb-5" style="margin-top: 100px; width: 90%;">
  <h1>Welcome to the Math Quiz!</h1>
  <form id="difficultyForm">
      <div class="container-form1">
          <label for="difficulty">Choose difficulty:</label>
          <select class="form-select rounded" id="difficulty" name="difficulty" style="width: 40%; text-align: center;">
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
          </select>
      </div>
      <div class="container-form2">
          <label for="numQuestions">Number of Questions:</label>
          <input type="number" id="numQuestions" class="form-control" min="1" max="20" value="5" style="width: 40%; text-align: center;"
              required>
      </div>
      <br>
      <button type="button" class="btn btn-primary rounded-4 p-3 col-md-2 m-0" style="font-size: 20px;"
          onclick="submitDifficulty()">Start</button>
  </form>
</article>

<script>
  function submitDifficulty() {
    const difficulty = document.getElementById('difficulty').value;
    const numQuestions = document.getElementById('numQuestions').value;

    fetch('/geometry/set-difficulty', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ difficulty, num_questions: numQuestions })
    }).then(response => {
      if (response.ok) {
        window.location.href = '/geometry/questions';
      }
    });
  }
</script>
{% endblock %}